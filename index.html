<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASKÖ Kinderturnen Kursplan - V4 Menü</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for the menu transition */
        #mobile-menu {
            transition: transform 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">

    <!-- Mobile Menu (initially hidden) -->
    <div id="mobile-menu" class="fixed top-0 left-0 w-64 h-full bg-white shadow-lg z-50 transform -translate-x-full">
        <div class="p-4 border-b">
            <h2 class="text-xl font-bold text-red-600">Alle Einheiten</h2>
        </div>
        <nav id="menu-nav" class="p-2 space-y-1">
            <!-- Menu items will be injected here -->
        </nav>
    </div>
    <div id="menu-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden"></div>

    <div class="container mx-auto max-w-4xl p-4">
        <header class="bg-red-600 text-white p-4 rounded-lg shadow-lg mb-6 flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold">ASKÖ Kinderturnen</h1>
                <p id="current-lesson-title" class="text-lg">Kursplan Herbst/Winter 2025</p>
            </div>
            <button id="menu-toggle" class="p-2 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-white">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </header>

        <main class="bg-white rounded-lg shadow-md p-5">
            <div id="tabs-content">
                <!-- Tab content panels will be injected here -->
            </div>
        </main>

        <footer class="text-center text-gray-500 mt-8">
            <p>&copy; 2025 Dein Name</p>
        </footer>
    </div>

    <script>
        const stundenbilder = [
             {
                id: 1,
                date: "17. Sep 2025",
                shortTitle: "Einheit 1",
                title: "Stundenbild 1: Ankommen & Kennenlernen",
                content: `
                    <h3 class="text-xl font-semibold mb-3 text-red-700">Material & Geräte</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div><h4 class="font-bold">Von zu Hause:</h4><ul class="list-disc list-inside"><li>Musikanlage / Bluetooth-Box</li><li>Luftballons (Gr. 1) / leichte Bälle (Gr. 2)</li><li>Optional: Werwolf-Karten (Gr. 2)</li></ul></div>
                        <div><h4 class="font-bold">Aus dem Turnsaal:</h4><ul class="list-disc list-inside"><li>Taue, 2 Turnkästen, 2 Langbänke</li><li>1 Weichbodenmatte & Turnmatten</li><li>Sprossenwand, 2 Paar Ringe, 2 Gitterleitern</li></ul></div>
                    </div><hr class="my-4"><h3 class="text-xl font-semibold mb-3 text-red-700">Ablauf der Turnstunde</h3><ol class="list-decimal list-inside space-y-3"><li><b>Startritual:</b> "Ich bin kleiner Bär"-Spruch im Kreis.</li><li><b>Einstiegsphase:</b> Aufwärmen mit Luftballon (Gr. 1) oder Ball (Gr. 2) zur Musik. Übungen: in der Luft halten, balancieren, hochwerfen & fangen.</li><li><b>Hauptteil (Gerätepark):</b> Freies Turnen an 5 Stationen: Tauschaukel, Sprungberg (Kasten+Weichboden), Kletterparcours (Sprossenwand+Bank+Kasten), Ringestation, Kletterwand (Gitterleitern).</li><li><b>Ausklangsphase:</b> Zuerst "Ballschlange" für alle. Danach Gr. 1 "Packerl machen", Gr. 2 "Pizza backen".</li><li><b>Abschlussritual:</b> Winken mit Händen und Füßen.</li></ol>`
            },
            {
                id: 2,
                date: "24. Sep 2025",
                shortTitle: "Einheit 2",
                title: "Stundenbild 2: Ausdauer-Würfelspiel",
                content: `
                    <h3 class="text-xl font-semibold mb-3 text-red-700">Material & Geräte</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div><h4 class="font-bold">Von zu Hause:</h4><ul class="list-disc list-inside"><li>Musikanlage / Bluetooth-Box</li><li>Bewegungschips</li><li>Würfel, laminierte Zahlenzettel, Stifte</li><li>4 aufblasbare Bälle</li><li>Werwolf-Karten & rote Schleifen (Gr. 2)</li></ul></div>
                        <div><h4 class="font-bold">Aus dem Turnsaal:</h4><ul class="list-disc list-inside"><li>4 Leichtmatten, 3 Langbänke</li><li>2 Turnkästen, 1 Weichbodenmatte</li></ul></div>
                    </div><hr class="my-4"><h3 class="text-xl font-semibold mb-3 text-red-700">Ablauf der Turnstunde</h3><ol class="list-decimal list-inside space-y-3"><li><b>Startritual:</b> "Ich bin kleiner Bär"-Spruch im Kreis.</li><li><b>Einstiegsphase:</b> Tanzen zu "Tschu-Tschu-Wa" und "Sport" von Mai Cocopelli.</li><li><b>Aufwärmen:</b> Spiel mit Bewegungschips. Danach Linien-Workout zur Musik (Laufen, Hampelmann, Sprünge etc.).</li><li><b>Hauptteil (Ausdauer-Parcours):</b> In 2-3er Gruppen wird gewürfelt. Ungerade Zahl = um den Parcours laufen. Gerade Zahl = über den Parcours turnen.</li><li><b>Ausklangsphase:</b> Staffellauf mit Bällen. Danach Gr. 1 "Packerl machen", Gr. 2 "Werwölfe" (Abfangspiel).</li><li><b>Abschlussritual:</b> Atemübung, dann Winken mit Händen und Füßen.</li></ol>`
            },
            {
                id: 3,
                date: "01. Okt 2025",
                shortTitle: "Einheit 3",
                title: "Stundenbild 3: Großer Gerätepark",
                content: `
                    <h3 class="text-xl font-semibold mb-3 text-red-700">Material & Geräte</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div><h4 class="font-bold">Von zu Hause:</h4><ul class="list-disc list-inside"><li>Musikanlage / Bluetooth-Box</li><li>Rote Schleifen (für "Versteinern")</li></ul></div>
                        <div><h4 class="font-bold">Aus dem Turnsaal:</h4><ul class="list-disc list-inside"><li>ca. 27 Turnreifen</li><li>Taue, Leichtmatten, Sprossenwand, Rutsche</li><li>Gitterleitern, 1 Langbank, 1 Kasten</li><li>2 Weichbodenmatten, 1 Trampolin</li></ul></div>
                    </div><hr class="my-4"><h3 class="text-xl font-semibold mb-3 text-red-700">Ablauf der Turnstunde</h3><ol class="list-decimal list-inside space-y-3"><li><b>Startritual:</b> "Ich bin kleiner Bär"-Spruch im Kreis.</li><li><b>Einstiegsphase:</b> "Feuer-Wasser-Sturm", danach Körperteil-Begrüßung.</li><li><b>Aufwärmen:</b> Reifenparcours in 3 Gruppen mit verschiedenen Bewegungsaufgaben.</li><li><b>Hauptteil (Gerätepark):</b> Freies Turnen an 6 Stationen: Taue, Rutsche, Gitterleitern, Sprungstation, Trampolin, Reifen-Zone.</li><li><b>Ausklangsphase:</b> Lustige Laufspiele: "Wer fürchtet sich vor dem weißen Hai?", "Versteinern", "Der Hase läuft über das Feld".</li><li><b>Abschlussritual:</b> "Tunnel", danach Winken.</li></ol>`
            },
            {
                id: 4,
                date: "08. Okt 2025",
                shortTitle: "Einheit 4",
                title: "Stundenbild 4: Fangen und Werfen",
                content: `
                    <h3 class="text-xl font-semibold mb-3 text-red-700">Material & Geräte</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div><h4 class="font-bold">Von zu Hause:</h4><ul class="list-disc list-inside"><li>Musikanlage / Bluetooth-Box</li><li>ca. 20 aufblasbare Bälle</li><li>Rote Turnschleifen (Gr. 2)</li></ul></div>
                        <div><h4 class="font-bold">Aus dem Turnsaal:</h4><ul class="list-disc list-inside"><li>2-3 Turnreifen (Einstieg)</li><li>8 Langbänke, Gitterleiter, Turnringe</li><li>Zusätzliche Reifen (Hauptteil), 2 Weichbodenmatten</li></ul></div>
                    </div><hr class="my-4"><h3 class="text-xl font-semibold mb-3 text-red-700">Ablauf der Turnstunde</h3><ol class="list-decimal list-inside space-y-3"><li><b>Startritual:</b> "Ich bin kleiner Bär"-Spruch im Kreis.</li><li><b>Einstiegsphase:</b> "Der fliegende Reifen", danach "Feuer-Wasser-Sturm".</li><li><b>Aufwärmen:</b> Ballgewöhnung, Parcours mit Langbänken, Übungen an der Wand.</li><li><b>Hauptteil (Partner- & Gruppenspiele):</b> Partnerübungen, Zielwerfen, Gruppenspiele. Gr. 1: "Heiße Kartoffel". Gr. 2: "Merkball" & "Wandball".</li><li><b>Ausklangsphase:</b> Ruhige Ballspiele im Kreis: "Der rollende Kreis", "Die Ball-Geschichte". Danach "Pizza backen".</li><li><b>Abschlussritual:</b> "Freundschafts-Klatscher" im Kreis, danach Winken.</li></ol>`
            },
            { id: 5, shortTitle: "Einheit 5", date: "15. Okt 2025", title: "Einheit 5", content: `<p class="text-center py-8 text-gray-500">Dieses Stundenbild ist noch nicht geplant.</p>` },
            { id: 6, shortTitle: "Halloween", date: "22. Okt 2025", title: "Sonderthema: Halloween-Turnstunde", content: `<p class="text-center py-8 text-gray-500">Dieses Stundenbild ist noch nicht geplant.</p>` },
        ];

        function addNotesSection(stunde) {
            return `
                <hr class="my-6 border-gray-200">
                <div class="bg-blue-50 p-4 rounded-lg">
                    <h3 class="text-xl font-semibold mb-3 text-blue-800">Notizen & Reflexion</h3>
                    <textarea id="notes-${stunde.id}" class="w-full h-32 p-2 border border-blue-200 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" placeholder="Was lief gut? Was kann verbessert werden?"></textarea>
                    <p class="text-xs text-gray-500 mt-1">Deine Notizen werden automatisch auf diesem Gerät gespeichert.</p>
                </div>`;
        }
        
        function parseDate(germanDateStr) {
            const months = { 'Jan': 0, 'Feb': 1, 'Mär': 2, 'Apr': 3, 'Mai': 4, 'Jun': 5, 'Jul': 6, 'Aug': 7, 'Sep': 8, 'Okt': 9, 'Nov': 10, 'Dez': 11 };
            const parts = germanDateStr.split(' ');
            const day = parseInt(parts[0], 10);
            const month = months[parts[1]];
            const year = parseInt(parts[2], 10);
            return new Date(year, month, day);
        }

        function findCurrentStundeIndex() {
            const today = new Date();
            today.setHours(0, 0, 0, 0); 
            let activeIndex = 0;
            for (let i = 0; i < stundenbilder.length; i++) {
                const stundeDate = parseDate(stundenbilder[i].date);
                const nextStundeDate = (i + 1 < stundenbilder.length) ? parseDate(stundenbilder[i+1].date) : new Date(stundeDate.getTime() + 7 * 24 * 60 * 60 * 1000);
                if (today >= stundeDate && today < nextStundeDate) {
                    activeIndex = i; break; 
                }
                if (today >= stundeDate) { activeIndex = i; }
            }
            return activeIndex;
        }

        document.addEventListener('DOMContentLoaded', () => {
            const menuNav = document.getElementById('menu-nav');
            const tabsContent = document.getElementById('tabs-content');
            const menuToggle = document.getElementById('menu-toggle');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuOverlay = document.getElementById('menu-overlay');
            const currentLessonTitle = document.getElementById('current-lesson-title');
            
            let activeStundeId = null;

            function showStunde(id) {
                // Hide all content panels
                tabsContent.querySelectorAll('.tab-content').forEach(panel => panel.style.display = 'none');
                
                // Show the selected one
                const contentPanel = document.getElementById(`tab-${id}`);
                if (contentPanel) {
                    contentPanel.style.display = 'block';
                    activeStundeId = id;

                    // Update header title
                    const stundeData = stundenbilder.find(s => s.id == id);
                    if(stundeData) {
                       currentLessonTitle.textContent = stundeData.title;
                    }
                }
                // Update active state in menu
                menuNav.querySelectorAll('a').forEach(link => {
                    if (link.dataset.target.slice(4) == id) {
                        link.classList.add('bg-red-100', 'text-red-700');
                    } else {
                        link.classList.remove('bg-red-100', 'text-red-700');
                    }
                });
            }

            // Populate menu and content
            stundenbilder.forEach(stunde => {
                // Create Menu Link
                const link = document.createElement('a');
                link.href = '#';
                link.dataset.target = `tab-${stunde.id}`;
                const isSpecial = stunde.shortTitle.toLowerCase().includes('halloween');
                link.className = `block px-4 py-2 rounded-md text-sm font-medium ${isSpecial ? 'text-orange-600 hover:bg-orange-50' : 'text-gray-700 hover:bg-gray-100'}`;
                link.innerHTML = `<span class="font-bold">${stunde.shortTitle}</span> - ${stunde.date}`;
                menuNav.appendChild(link);
                
                // Create Content Panel
                const contentPanel = document.createElement('div');
                contentPanel.id = `tab-${stunde.id}`;
                contentPanel.className = 'tab-content';
                contentPanel.style.display = 'none'; // Initially hide all
                contentPanel.innerHTML = `
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">${stunde.title}</h2>
                    ${stunde.content}
                    ${addNotesSection(stunde)}`;
                tabsContent.appendChild(contentPanel);

                 // Load and Save notes from/to localStorage
                const textarea = contentPanel.querySelector(`#notes-${stunde.id}`);
                if (textarea) {
                    const storageKey = `notes-stunde-${stunde.id}`;
                    textarea.value = localStorage.getItem(storageKey) || '';
                    textarea.addEventListener('input', () => {
                        localStorage.setItem(storageKey, textarea.value);
                    });
                }
            });
            
            // Show current week's lesson on load
            const activeStundeIndex = findCurrentStundeIndex();
            const initialStundeId = stundenbilder[activeStundeIndex].id;
            showStunde(initialStundeId);

            // Menu Toggle Logic
            const toggleMenu = () => {
                mobileMenu.classList.toggle('-translate-x-full');
                menuOverlay.classList.toggle('hidden');
            };

            menuToggle.addEventListener('click', toggleMenu);
            menuOverlay.addEventListener('click', toggleMenu);

            menuNav.addEventListener('click', (e) => {
                e.preventDefault();
                const link = e.target.closest('a');
                if (link) {
                    const targetId = link.dataset.target.slice(4); // remove 'tab-'
                    showStunde(targetId);
                    toggleMenu(); // Close menu after selection
                }
            });
        });
    </script>

</body>
</html>

